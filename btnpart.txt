Better-Than-Nothing partitioner for NEC PC-9801/9821
version 0.0.2
document in Japanese (Shift_JIS)

説明:
-----

PC-9801/9821 用の簡易版ハードディスク初期化ツールです。
その名の通り、「ないよりまし」(better than nothing) 程度の
出来栄えとなっています。

・複数領域の作成はできない
  （ハードディスクのほぼ全容量がひとつの領域として確保されます）
・起動メニューはない
・作った領域は MS-DOS 3.3 では読めない
　（DOS 5 以上必須となります。また領域容量の大小にかかわらず、
  ファイルシステムは FAT16 となります）
・システムは転送されない
　（FreeDOS カーネルに同梱されている sys コマンドを使ってください）

なお、今のところ、実機での動作はまったく未確認です。


用法:
-----

btnpart.exe, btnpart.mbr, fat16hd.pbr を同じディレクトリに置いて、
DOS のコマンドライン上から btnpart を実行し、画面の指示に従ってください。

btnpart の有効なコマンドラインオプションは今のところふたつだけです。

  --format              ハードディスク全体のフォーマットを行うかどうかを
                        ユーザーに確認し、許可された場合はフォーマットを
                        行います（セクタサイズやインターリーブは BIOS の
                        デフォルト値をそのまま使います）。
                        ディスク全体に書き込みを行うため、処理に非常に
                        時間がかかる場合があります。
                        
                        エミュレータ上で SCSI ディスクイメージ上に領域を
                        確保する場合、ディスク全体のフォーマットを行う
                        必要があります。
                        実機の IDE ハードディスクやエミュレータの SASI
                        ディスクイメージに対しては基本的に必要ありません。

  --erase-track0	IPL 書き換え時にトラック 0 の内容を消去します。
                        以前に MS-DOS でディスクの初期化や領域確保を
                        行っている場合、この部分に起動メニューが
                        インストールされています。
                        起動メニューの実行コードをディスクから完全に
                        消去したい場合はこのオプションを指定してください。


ソースコード:
-------------

ソースのビルドには以下のものが必要です。

・LSI-C86 3.30c 試食版 / OpenWatcom C++
・nasm
・upx（なくてもよい）

btnpart 本体はいわゆる ZLIB ライセンス、ブートローダ部はいわゆる
パブリックドメイン扱いで再利用可能です。
本ソフトウェアは完全に無保証です。


履歴:
-----

2015-09-05  0.0.0
    * 作成
2015-09-08  0.0.1
    * --format コマンド
    * --format-track0 を --erase-track0 に変更
2018-04-18  0.0.2
    * 2Gバイト以上のディスクで正しい領域が作成できない不具合の修正


sava/LP-Project
